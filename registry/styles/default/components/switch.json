{
  "name": "switch",
  "type": "registry:ui",
  "description": "A toggle switch component with glassmorphism variant and customizable glow effects.",
  "dependencies": [
    "@radix-ui/react-switch",
    "class-variance-authority"
  ],
  "registryDependencies": [
    "utils"
  ],
  "files": [
    {
      "name": "switch.tsx",
      "content": "\"use client\"\n\nimport * as SwitchPrimitive from \"@radix-ui/react-switch\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst switchVariants = cva(\n  \"peer group/switch inline-flex shrink-0 items-center rounded-full outline-none disabled:cursor-not-allowed disabled:opacity-50 transition-all\",\n  {\n    variants: {\n      variant: {\n        default: \"data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 border border-transparent shadow-xs focus-visible:ring-[3px]\",\n        liquidGlass: [\n          \"relative backdrop-blur-md border shadow-lg\",\n          \"data-[state=unchecked]:bg-white/10 data-[state=unchecked]:border-white/20\",\n          \"dark:data-[state=unchecked]:bg-white/5 dark:data-[state=unchecked]:border-white/10\",\n          \"duration-500 ease-out\",\n        ],\n      },\n      size: {\n        sm: \"h-3.5 w-6\",\n        default: \"h-[1.15rem] w-8\",\n        lg: \"h-6 w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst switchThumbVariants = cva(\n  \"pointer-events-none block rounded-full ring-0 transition-all\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground\",\n        liquidGlass: [\n          \"bg-gradient-to-br from-white to-white/80\",\n          \"dark:from-white/90 dark:to-white/70\",\n          \"data-[state=unchecked]:shadow-[0_2px_4px_rgba(0,0,0,0.1)]\",\n          \"relative before:absolute before:inset-0 before:rounded-full\",\n          \"before:bg-gradient-to-br before:from-white/40 before:to-transparent\",\n          \"duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)]\",\n        ],\n      },\n      size: {\n        sm: \"size-3\",\n        default: \"size-4\",\n        lg: \"size-5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\n// Helper to convert hex to RGB\nfunction hexToRgb(hex: string): { r: number; g: number; b: number } | null {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n      }\n    : null;\n}\n\ninterface SwitchProps extends \n  React.ComponentProps<typeof SwitchPrimitive.Root>,\n  VariantProps<typeof switchVariants> {\n  size?: \"sm\" | \"default\" | \"lg\"\n  variant?: \"default\" | \"liquidGlass\"\n  glowColor?: string // Hex color for glow effect (e.g., \"#ff637e\")\n}\n\nfunction Switch({\n  className,\n  size = \"default\",\n  variant = \"default\",\n  glowColor = \"#ff637e\",\n  style,\n  checked,\n  onCheckedChange,\n  ...props\n}: SwitchProps) {\n  const rgb = hexToRgb(glowColor);\n  const rgbString = rgb ? `${rgb.r}, ${rgb.g}, ${rgb.b}` : \"255, 99, 126\";\n  const rootRef = React.useRef<HTMLButtonElement>(null);\n  const thumbRef = React.useRef<HTMLSpanElement>(null);\n\n  // Apply dynamic styles based on checked state\n  React.useEffect(() => {\n    if (variant !== \"liquidGlass\" || !rootRef.current || !thumbRef.current) return;\n\n    const root = rootRef.current;\n    const thumb = thumbRef.current;\n\n    const applyStyles = () => {\n      const isChecked = root.getAttribute(\"data-state\") === \"checked\";\n\n      if (isChecked) {\n        root.style.background = `linear-gradient(to right, rgba(${rgbString}, 0.3), rgba(${rgbString}, 0.2))`;\n        root.style.borderColor = `rgba(${rgbString}, 0.5)`;\n        root.style.boxShadow = `0 0 20px rgba(${rgbString}, 0.3)`;\n        thumb.style.boxShadow = `0 0 12px rgba(${rgbString}, 0.6), 0 2px 8px rgba(0, 0, 0, 0.2)`;\n      } else {\n        root.style.background = \"\";\n        root.style.borderColor = \"\";\n        root.style.boxShadow = \"\";\n        thumb.style.boxShadow = \"0 2px 4px rgba(0, 0, 0, 0.1)\";\n      }\n    };\n\n    applyStyles();\n\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (mutation.type === \"attributes\" && mutation.attributeName === \"data-state\") {\n          applyStyles();\n        }\n      });\n    });\n\n    observer.observe(root, {\n      attributes: true,\n      attributeFilter: [\"data-state\"],\n    });\n\n    return () => observer.disconnect();\n  }, [variant, rgbString]);\n\n  return (\n    <SwitchPrimitive.Root\n      ref={rootRef}\n      data-slot=\"switch\"\n      className={cn(\n        switchVariants({ variant, size }),\n        className\n      )}\n      style={style}\n      checked={checked}\n      onCheckedChange={onCheckedChange}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        ref={thumbRef}\n        data-slot=\"switch-thumb\"\n        className={cn(\n          switchThumbVariants({ variant, size }),\n          \"data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0\"\n        )}\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n"
    }
  ]
}