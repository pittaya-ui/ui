{
  "name": "carousel",
  "type": "registry:ui",
  "description": "Displays a carousel of images or content.",
  "dependencies": [
    "embla-carousel-autoplay",
    "embla-carousel-react",
    "lucide-react"
  ],
  "registryDependencies": [
    "button",
    "utils"
  ],
  "files": [
    {
      "name": "carousel.tsx",
      "content": "\"use client\";\n\nimport Autoplay from \"embla-carousel-autoplay\";\nimport useEmblaCarousel from \"embla-carousel-react\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport * as React from \"react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\n\ninterface CarouselProps {\n  children: React.ReactNode;\n  className?: string;\n  autoplay?: boolean;\n  autoplayInterval?: number;\n  showDots?: boolean;\n  showArrows?: boolean;\n  showCounter?: boolean;\n  loop?: boolean;\n}\n\nexport function Carousel({\n  children,\n  className,\n  autoplay = false,\n  autoplayInterval = 3000,\n  showDots = true,\n  showArrows = true,\n  showCounter = false,\n  loop = true,\n}: CarouselProps) {\n  const [emblaRef, emblaApi] = useEmblaCarousel(\n    { loop, skipSnaps: false },\n    autoplay\n      ? [Autoplay({ delay: autoplayInterval, stopOnInteraction: true })]\n      : []\n  );\n\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  const [canScrollPrev, setCanScrollPrev] = React.useState(false);\n  const [canScrollNext, setCanScrollNext] = React.useState(false);\n\n  const items = React.Children.toArray(children);\n\n  const onSelect = React.useCallback(() => {\n    if (!emblaApi) return;\n    setSelectedIndex(emblaApi.selectedScrollSnap());\n    setCanScrollPrev(emblaApi.canScrollPrev());\n    setCanScrollNext(emblaApi.canScrollNext());\n  }, [emblaApi]);\n\n  React.useEffect(() => {\n    if (!emblaApi) return;\n\n    onSelect();\n    emblaApi.on(\"select\", onSelect);\n    emblaApi.on(\"reInit\", onSelect);\n\n    return () => {\n      emblaApi.off(\"select\", onSelect);\n    };\n  }, [emblaApi, onSelect]);\n\n  React.useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === \"ArrowLeft\") emblaApi?.scrollPrev();\n      if (e.key === \"ArrowRight\") emblaApi?.scrollNext();\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [emblaApi]);\n\n  const scrollTo = (index: number) => emblaApi?.scrollTo(index);\n\n  return (\n    <div className={cn(\"group relative w-full\", className)}>\n      <div ref={emblaRef} className=\"overflow-hidden rounded-xl\">\n        <div className=\"flex touch-pan-y\">\n          {items.map((item, index) => (\n            <div key={index} className=\"min-w-0 flex-[0_0_100%]\">\n              {item}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {showArrows && (\n        <>\n          <Button\n            onClick={() => emblaApi?.scrollPrev()}\n            disabled={!canScrollPrev}\n            size=\"icon\"\n            variant=\"outline\"\n            className={cn(\n              \"absolute top-1/2 left-4 z-10 -translate-y-1/2\",\n              \"h-12 w-12 rounded-full backdrop-blur-md\",\n              \"bg-background/80 border-border/50 border-2\",\n              \"transition-all duration-300\",\n              \"hover:scale-110\",\n              \"disabled:opacity-30 disabled:hover:scale-100\",\n              \"opacity-0 group-hover:opacity-100\",\n              \"shadow-lg hover:shadow-xl\"\n            )}\n            aria-label=\"Previous slide\"\n          >\n            <ChevronLeft className=\"h-6 w-6\" />\n          </Button>\n\n          <Button\n            onClick={() => emblaApi?.scrollNext()}\n            disabled={!canScrollNext}\n            size=\"icon\"\n            variant=\"outline\"\n            className={cn(\n              \"absolute top-1/2 right-4 z-10 -translate-y-1/2\",\n              \"h-12 w-12 rounded-full backdrop-blur-md\",\n              \"bg-background/80 border-border/50 border-2\",\n              \"transition-all duration-300\",\n              \"hover:scale-110\",\n              \"disabled:opacity-30 disabled:hover:scale-100\",\n              \"opacity-0 group-hover:opacity-100\",\n              \"shadow-lg hover:shadow-xl\"\n            )}\n            aria-label=\"Next slide\"\n          >\n            <ChevronRight className=\"h-6 w-6\" />\n          </Button>\n        </>\n      )}\n\n      {(showDots || showCounter) && (\n        <div className=\"absolute bottom-6 left-1/2 z-10 flex -translate-x-1/2 items-center gap-2\">\n          {showDots && (\n            <div className=\"bg-background/80 border-border/50 flex items-center gap-2 rounded-full border px-4 py-2 shadow-lg backdrop-blur-md\">\n              {items.map((_, index) => (\n                <button\n                  key={index}\n                  onClick={() => scrollTo(index)}\n                  className={cn(\n                    \"transition-all duration-300\",\n                    \"rounded-full\",\n                    index === selectedIndex\n                      ? \"bg-primary h-2 w-8\"\n                      : \"bg-muted-foreground/40 hover:bg-muted-foreground/70 h-2 w-2 hover:scale-125\"\n                  )}\n                  aria-label={`Go to slide ${index + 1}`}\n                  aria-current={index === selectedIndex}\n                />\n              ))}\n            </div>\n          )}\n\n          {showCounter && (\n            <div className=\"bg-background/80 border-border/50 rounded-full border px-3 py-2 shadow-lg backdrop-blur-md\">\n              <span className=\"text-xs font-medium tabular-nums\">\n                {selectedIndex + 1}/{items.length}\n              </span>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport function CarouselItem({\n  children,\n  className,\n}: {\n  children: React.ReactNode;\n  className?: string;\n}) {\n  return <div className={cn(\"w-full\", className)}>{children}</div>;\n}\n"
    }
  ]
}